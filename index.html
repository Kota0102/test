<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>WebAR Sample</title>
    <style>
      /* ビデオ要素をフルスクリーンに表示するためのCSS */
      video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
  </head>
  <body>
    <!-- ビデオを表示するための要素 -->
    <video id="video"></video>
    <!-- ARコンテンツを表示するための要素 -->
    <div id="content"></div>
    <!-- A-Frameのライブラリを読み込むためのスクリプト -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!-- AR.jsのライブラリを読み込むためのスクリプト -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose.js"></script>
    <!-- スクリプト -->
    <script>
      // ビデオ要素を取得
      const video = document.getElementById('video');

      // getUserMediaでカメラにアクセス
      navigator.mediaDevices.getUserMedia({ video: true })
        .then((stream) => {
          // ビデオ要素にストリームを設定
          video.srcObject = stream;
          video.onloadedmetadata = () => {
            video.play();
          };
        });

      // ARコンテンツを表示するためのA-Frameシーンを作成
      const scene = document.createElement('a-scene');
      scene.setAttribute('embedded', '');
      document.body.appendChild(scene);

      // マーカーを検出したときに呼び出されるコールバック関数
      function onMarkerFound(e) {
        // マーカーに対応するARコンテンツを取得
        const content = document.getElementById(e.detail.marker.id);
        // ARコンテンツを表示
        content.setAttribute('visible', true);
      }

      // マーカーを失ったときに呼び出されるコールバック関数
      function onMarkerLost(e) {
        // マーカーに対応するARコンテンツを取得
        const content = document.getElementById(e.detail.marker.id);
        // ARコンテンツを非表示
        content.setAttribute('visible', false);
      }

      // マーカーを定義するためのHTML要素を作成
      const marker1 = document.createElement('a-marker');
      marker1.setAttribute('type', 'barcode');
      marker1.setAttribute('value', '5');
      marker1.addEventListener('markerFound', onMarkerFound
